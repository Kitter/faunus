<!DOCTYPE html>

<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <title>SequenceFile Format</title>
    <link rel="stylesheet" href="./css/screen.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="./css/gollum.css" type="text/css" charset="utf-8" />
    <link rel="stylesheet" href="./css/syntax.css" type="text/css" charset="utf-8" />
    <script src="./javascript/jquery-1.4.2.min.js" type="text/javascript"></script>
    <script src="./javascript/jquery.text_selection-1.0.0.min.js" type="text/javascript"></script>
    <script src="./javascript/jquery.previewable_comment_form.js" type="text/javascript"></script>
    <script src="./javascript/jquery.tabs.js" type="text/javascript"></script>
    <script src="./javascript/gollum.js" type="text/javascript"></script>
  </head>

  <body>
    <div id="main">
      <div class="site">
        <div id="guides">
          <div class="guide">
            <div class="main">
              <div class="actions">
                <div>
                  <a href="./Home.html">Aurelius Faunus 0.4.3</a>
                </div>
              </div>
              <h1>SequenceFile Format</h1>
              <div class="content wikistyle gollum textile">
                <p><img src="images/hadoop-logo.jpg" alt=""></p>
<ul>
<li>
<strong>InputFormat</strong>: <code>org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat</code>
</li>
	<li>
<strong>OutputFormat</strong>: <code>org.apache.hadoop.mapreduce.lib.output.SequenceFileOutputFormat</code>
</li>
</ul><p><a href="http://hadoop.apache.org">Hadoop’s</a> native binary data file is the <a href="http://wiki.apache.org/hadoop/SequenceFile">SequenceFile</a>. Every <code>Writable</code> object implements methods that enable it to both read itself <em>from</em> and write itself <em>to</em> a SequenceFile. Because both <code>FaunusVertex</code> and <code>FaunusEdge</code> implement <code>Writable</code>, they can be captured by a SequenceFile. Moreover, given that a SequenceFile is a binary format, it supports a more compact representation that found with other text-based formats such as <a class="internal present" href="./GraphSON-Format.html">GraphSON</a>.</p>
<h2>Faunus-Specific Compression</h2>
<p>The following is a list of compression techniques used by Faunus within a SequenceFile.</p>
<ul>
<li>
<a href="http://en.wikipedia.org/wiki/Variable-width_encoding">Variable-width encoding</a> of all ints and longs.</li>
	<li>Edge’s sorted by direction to reduce the number of direction encodings.</li>
	<li>Edge’s sorted by label to reduce the number of label encodings.</li>
	<li>Only the adjacent vertex id stored as the root vertex’s id can be inferred.</li>
	<li>Element property type encoding represented by a single byte.</li>
</ul><h2>Intermediate Format</h2>
<p>Given that a SequenceFile is compact, splittable, and a native Hadoop format, Faunus makes use of the SequenceFile as the intermediate representation between consecutive Faunus jobs. In other words, when a Faunus computation requires more than one MapReduce phase, a SequenceFile representing the output of the first MapReduce job is temporarily persisted in <a href="http://en.wikipedia.org/wiki/Apache_Hadoop#Hadoop_Distributed_File_System"><span class="caps">HDFS</span></a> and fed as the input to the second MapReduce job.</p>
              </div>
            </div>
          </div>
          <div class="admin">
            <div style="float: left;">
              <small>Last edited by <b>Dan LaRocque</b>, 2014-04-21 19:19:18</small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
